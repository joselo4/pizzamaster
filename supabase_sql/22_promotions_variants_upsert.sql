-- 22_promotions_variants_upsert.sql
-- UPSERT quirúrgico de promos + imágenes (image_url/thumb_url) en public.promotions.
-- Requiere que exista la tabla public.promotions con columnas image_url y thumb_url.

insert into public.promotions as p (slug, name, badge, headline, subheadline, price_text, detail_text, cta_label, cta_url, image_url, thumb_url, active, sort_index) values ('2x1-hawaiana', '2x1 Hawaiana', '2x1', 'Paga 1 y llévate 2', 'Hawaiana (jamón + piña)', 'S/ 39.90', '2 pizzas medianas Hawaiana', 'Pedir por WhatsApp', 'https://wa.me/51XXXXXXXXX?text=Hola%20quiero%20la%20promo', '/promos/2x1_hawaiana_banner.svg', '/promos/2x1_hawaiana_square.svg', true, 10) on conflict (slug) do update set name=excluded.name, badge=excluded.badge, headline=excluded.headline, subheadline=excluded.subheadline, price_text=excluded.price_text, detail_text=excluded.detail_text, cta_label=excluded.cta_label, cta_url=excluded.cta_url, image_url=excluded.image_url, thumb_url=excluded.thumb_url, active=excluded.active, sort_index=excluded.sort_index;
insert into public.promotions as p (slug, name, badge, headline, subheadline, price_text, detail_text, cta_label, cta_url, image_url, thumb_url, active, sort_index) values ('2x1-pepperoni', '2x1 Pepperoni', '2x1', 'Paga 1 y llévate 2', 'Pepperoni (full queso)', 'S/ 39.90', '2 pizzas medianas Pepperoni', 'Pedir por WhatsApp', 'https://wa.me/51XXXXXXXXX?text=Hola%20quiero%20la%20promo', '/promos/2x1_pepperoni_banner.svg', '/promos/2x1_pepperoni_square.svg', true, 11) on conflict (slug) do update set name=excluded.name, badge=excluded.badge, headline=excluded.headline, subheadline=excluded.subheadline, price_text=excluded.price_text, detail_text=excluded.detail_text, cta_label=excluded.cta_label, cta_url=excluded.cta_url, image_url=excluded.image_url, thumb_url=excluded.thumb_url, active=excluded.active, sort_index=excluded.sort_index;
insert into public.promotions as p (slug, name, badge, headline, subheadline, price_text, detail_text, cta_label, cta_url, image_url, thumb_url, active, sort_index) values ('2x1-americana', '2x1 Americana', '2x1', 'Paga 1 y llévate 2', 'Americana (jamón + queso)', 'S/ 39.90', '2 pizzas medianas Americana', 'Pedir por WhatsApp', 'https://wa.me/51XXXXXXXXX?text=Hola%20quiero%20la%20promo', '/promos/2x1_americana_banner.svg', '/promos/2x1_americana_square.svg', true, 12) on conflict (slug) do update set name=excluded.name, badge=excluded.badge, headline=excluded.headline, subheadline=excluded.subheadline, price_text=excluded.price_text, detail_text=excluded.detail_text, cta_label=excluded.cta_label, cta_url=excluded.cta_url, image_url=excluded.image_url, thumb_url=excluded.thumb_url, active=excluded.active, sort_index=excluded.sort_index;
insert into public.promotions as p (slug, name, badge, headline, subheadline, price_text, detail_text, cta_label, cta_url, image_url, thumb_url, active, sort_index) values ('combo-familiar', 'Combo Familiar', 'TOP VENTA', '2 medianas + 1.5L', 'Ideal para 4 personas', 'S/ 39.90', '2 pizzas medianas + bebida', 'Pedir por WhatsApp', 'https://wa.me/51XXXXXXXXX?text=Hola%20quiero%20la%20promo', '/promos/combo_familiar_landscape.svg', '/promos/combo_familiar_square.svg', true, 2) on conflict (slug) do update set name=excluded.name, badge=excluded.badge, headline=excluded.headline, subheadline=excluded.subheadline, price_text=excluded.price_text, detail_text=excluded.detail_text, cta_label=excluded.cta_label, cta_url=excluded.cta_url, image_url=excluded.image_url, thumb_url=excluded.thumb_url, active=excluded.active, sort_index=excluded.sort_index;
